var t=Object.defineProperty,a=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(a,e,l)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l;import{b as n}from"./index.0aa33123.js";import{z as o,e as i,k as u,H as s,A as c,j as p,B as d,o as m,c as f,v as V,R as y}from"./vendor.71a11aaa.js";let S=0;const w="webkit moz ms o".split(" ");let b,g;if("undefined"==typeof window)b=function(){},g=function(){};else{let t;b=window.requestAnimationFrame,g=window.cancelAnimationFrame;for(let a=0;a<w.length&&(!b||!g);a++)t=w[a],b=b||window[t+"RequestAnimationFrame"],g=g||window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];b&&g||(b=function(t){const a=(new Date).getTime(),e=Math.max(0,16-(a-S)),l=window.setTimeout((()=>{t(a+e)}),e);return S=a+e,l},g=function(t){window.clearTimeout(t)})}const q={name:"YuCountTo",props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2021},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:t=>t>=0},color:{type:String,default:""},fontSize:{type:String,default:""},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:(t,a,e,l)=>e*(1-Math.pow(2,-10*t/l))*1024/1023+a}},emits:["mounted","callback"],setup(t,{emit:m}){const f=o({localStartVal:t.startVal,displayValue:w(t.startVal),printVal:null,paused:!1,localDuration:t.duration,startTime:null,timestamp:null,remaining:null,rAF:null,color:null,fontSize:"16px"}),V=i((()=>t.startVal>t.endVal));function y(){const{startVal:a,duration:e,color:l,fontSize:r}=t;f.localStartVal=a,f.startTime=null,f.localDuration=e,f.paused=!1,f.color=l,f.fontSize=r,f.rAF=b(S)}function S(a){const{useEasing:e,easingFn:l,endVal:r}=t;f.startTime||(f.startTime=a),f.timestamp=a;const n=a-f.startTime;f.remaining=f.localDuration-n,e?s(V)?f.printVal=f.localStartVal-l(n,0,f.localStartVal-r,f.localDuration):f.printVal=l(n,f.localStartVal,r-f.localStartVal,f.localDuration):s(V)?f.printVal=f.localStartVal-(f.localStartVal-r)*(n/f.localDuration):f.printVal=f.localStartVal+(r-f.localStartVal)*(n/f.localDuration),s(V)?f.printVal=f.printVal<r?r:f.printVal:f.printVal=f.printVal>r?r:f.printVal,f.displayValue=w(f.printVal),n<f.localDuration?f.rAF=b(S):m("callback")}function w(a){const{decimals:e,decimal:l,separator:r,suffix:o,prefix:i}=t;a=Number(a).toFixed(e);const u=(a+="").split(".");let s=u[0];const c=u.length>1?l+u[1]:"",p=/(\d+)(\d{3})/;if(r&&!n(r))for(;p.test(s);)s=s.replace(p,"$1"+r+"$2");return i+s+c+o}u([()=>t.startVal,()=>t.endVal],(()=>{t.autoplay&&y()})),c((()=>{t.autoplay&&y(),m("mounted")}));return((t,n)=>{for(var o in n||(n={}))e.call(n,o)&&r(t,o,n[o]);if(a)for(var o of a(n))l.call(n,o)&&r(t,o,n[o]);return t})({styleObj:p({color:t.color,fontSize:t.fontSize})},d(f))}};q.render=function(t,a,e,l,r,n){return m(),f("span",{style:y(l.styleObj)},V(t.displayValue),5)};const F=Object.assign(q,{install(t){t.component(q.name,q)}});export{F as C};
