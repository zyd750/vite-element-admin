var e=(e,a,t)=>new Promise(((o,n)=>{var s=e=>{try{c(t.next(e))}catch(a){n(a)}},l=e=>{try{c(t.throw(e))}catch(a){n(a)}},c=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,l);c((t=t.apply(e,a)).next())}));import{S as a,W as t,l as o,i as n}from"./index.0aa33123.js";import{o as s,c as l,i as c,j as r,Q as i,r as d,a as u,v as p,p as g,h as m,d as h,u as f,l as v,b as y,z as w,e as x,f as I,w as C,a6 as V,G as b,x as A,E as Q,H as k}from"./vendor.71a11aaa.js";const q={name:"Logo",setup:()=>({logo:"data:image/png;base64,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"})},K={class:"logo-contanier"},H=["src"];q.render=function(e,a,t,o,n,r){return s(),l("div",K,[c("img",{src:o.logo,alt:""},null,8,H)])},q.__scopeId="data-v-d046cf22";const M={name:"YuCopyright",components:{SvgIcon:a},setup(){const e=r(2021);return i((()=>{const a=(new Date).getFullYear();e.value=isNaN(a)&&!isNaN(Date.parse(a))?a:2021})),{currentYear:e}}},X=e=>(g("data-v-4ced6022"),e=e(),m(),e),J={class:"copyright-container"},N=X((()=>c("div",{class:"title syRegular"},[c("div",{class:"copyright-items"},"帮助"),c("div",{class:"copyright-items"},"隐私"),c("div",{class:"copyright-items"},"条款")],-1))),T=X((()=>c("i",null,"copyright",-1))),z=X((()=>c("span",{style:{"margin-top":"5px"}}," XXXXXXXXX ",-1)));M.render=function(e,a,t,o,n,r){const i=d("svg-icon");return s(),l("div",J,[N,c("span",null,[T,u(i,{"icon-class":"copyright",class:"icon"}),c("i",null,p(o.currentYear)+" 沪ICP备XXXXXXXX号",1)]),z])},M.__scopeId="data-v-4ced6022";const E=Object.assign(M,{install(e){e.component(M.name,M)}});const F=h({name:"WeChatLogin",setup(){const e=f();return{weChatLogin:()=>{const{redirect:a}=e.query,{origin:o,pathname:n}=window.location,s=a?`${o}${n}#/relation?redirect=${a}`:`${o}${n}#/relation`,l=Math.ceil(1e3*Math.random()),c=encodeURIComponent(decodeURIComponent(s)),r=`https://open.weixin.qq.com/connect/qrconnect?appid=${t}&redirect_uri=${c}&response_type=code&scope=snsapi_login&state=${l}#wechat_redirect`;window.open(r,"_blank")}}}}),L={class:"third-login-contanier"};F.render=function(e,a,t,o,n,c){const r=d("svg-icon");return s(),l("div",L,[u(r,{"class-name":"icons ","icon-class":"wechat",onClick:e.wechatLogin},null,8,["onClick"])])},F.__scopeId="data-v-ef7942d8";const R=h({name:"LoginPwd",setup(){const a=v(),t=f(),n=y(),s=r(),l=["blur","change"],c=w({country:"86",captcha:"",account:"",password:""}),d={account:[{required:!0,message:"请输入手机或邮箱账号",trigger:l}],password:[{required:!0,message:"请输入密码",trigger:l}],captcha:[{required:!0,message:"请输入校验码",trigger:l}]},u=r(""),p=r(!1),g=r(""),m=r(""),h=r(!1),I=x((()=>{const{captcha:e,account:a,password:t}=c;return p.value?!e||!a||!t:!a||!t}));function C(){const e=t.query;u.value=e.bindToken||""}function V(){return e(this,null,(function*(){}))}return i((()=>{C()})),{trigger:l,ruleForm:s,formState:c,rules:d,bindToken:u,showCaptcha:p,captchaImg:g,captchaId:m,loading:h,disabledLogin:I,getQueryParams:C,updateImage:V,loginHandle:function(){h.value=!0,s.value.validate((t=>e(this,null,(function*(){if(t)try{const e={username:c.account,password:c.password};p.value&&(e.captchaId=m.value,e.captchaValue=c.captcha);const{data:t}=yield o({params:e}),{token:s}=t;yield n.dispatch("user/saveToken",{token:s}),a.push("/")}catch(e){}finally{h.value=!1,p.value&&(yield V())}}))))},freeLogin:function(){return e(this,null,(function*(){h.value=!0;try{yield n.dispatch("user/saveToken",{token:"token"}),a.push("/")}catch(e){}finally{h.value=!1}}))}}}}),U={style:{position:"relative"}},Y={class:"code-inp"},O={class:"code"},P=["src"],D=Q(" 快速登录 "),S=Q(" 免登录 ");R.render=function(e,a,t,o,n,l){const r=d("el-input"),i=d("el-form-item"),p=d("el-button"),g=d("el-form");return s(),I(g,{ref:"ruleForm",model:e.formState,rules:e.rules,"label-width":"0","status-icon":"",class:"login-ruleForm"},{default:C((()=>[u(i,{prop:"account"},{default:C((()=>[u(r,{ref:"account",modelValue:e.formState.account,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formState.account=a),name:"account",placeholder:"邮箱/手机",clearable:!0,tabindex:"1",type:"text",maxlength:"100",autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(i,{prop:"password",class:""},{default:C((()=>[u(r,{ref:"password",modelValue:e.formState.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formState.password=a),"show-password":"",name:"password",placeholder:"请输入密码",clearable:!0,tabindex:"2",maxlength:"16",type:"password",autocomplete:"off",onKeyup:V(e.loginHandle,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),e.showCaptcha?(s(),I(i,{key:0,prop:"captcha",class:""},{default:C((()=>[c("div",U,[c("div",Y,[u(r,{ref:"captcha",modelValue:e.formState.captcha,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formState.captcha=a),type:"text",name:"captcha",placeholder:"请输入校验码",clearable:!0,tabindex:"3",maxlength:"6",autocomplete:"off",onKeyup:V(e.loginHandle,["enter"])},null,8,["modelValue","onKeyup"])]),c("div",O,[c("img",{src:e.captchaImg,alt:"",onClick:a[3]||(a[3]=(...a)=>e.updateImage&&e.updateImage(...a))},null,8,P)])])])),_:1})):b("",!0),u(i,{class:"h40",style:{"margin-bottom":"0"}},{default:C((()=>[u(p,{loading:e.loading,disabled:e.disabledLogin,type:"primary",class:"h40",style:{width:"100%"},onClick:A(e.loginHandle,["prevent"])},{default:C((()=>[D])),_:1},8,["loading","disabled","onClick"]),u(p,{loading:e.loading,type:"text",class:"h40",style:{width:"100%"},onClick:A(e.freeLogin,["prevent"])},{default:C((()=>[S])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])},R.__scopeId="data-v-6f6c285d";const B=e=>(g("data-v-5835dd71"),e=e(),m(),e),G={class:"section-container login-container syNormal un-select"},j={class:"body fix-width w380"},W={class:"top"},_=B((()=>c("div",{class:"top-title syRegular"},"账号密码登录",-1))),Z={class:"main"},$=B((()=>c("div",{class:"foot-link clearfix",style:{"margin-top":"10px"}},null,-1))),ee={key:0,class:"foot-link syRegular"},ae=Q("其他方式登录"),te={setup(e){const a=r(!0);return i((()=>{a.value=!n(),(e=>{let a="";if(e)for(const t in e)e[t]&&(a=a?`${a}&${t}=${e[t]}`:`${t}=${e[t]}`)})()})),(e,t)=>{const o=d("el-divider");return s(),l("div",G,[c("div",j,[c("div",W,[u(q,{class:"logos center mb10"}),_]),c("div",Z,[u(R),$,a.value?(s(),l("div",ee,[u(o,{"content-position":"center"},{default:C((()=>[ae])),_:1}),u(F)])):b("",!0)])]),u(k(E))])}},__scopeId:"data-v-5835dd71"};export default te;
